---
---
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ site.title }}</title>
    <meta name="description" content="{{ site.description }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- Navigation -->
    <nav>
        <div class="container">
            <a href="#home" class="logo">MG</a>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#projects">Projects</a></li>
                <li><a href="#certificates">Certificates</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="container">
            <h1>Masoud Ghasemi</h1>
            <h2>Python Backend & AI Engineer</h2>
            <p>Building scalable APIs and AI models with 98%+ accuracy</p>
            <div class="cta-buttons">
                <a href="#projects" class="btn btn-primary">View Projects</a>
                <a href="https://github.com/sorna-fast" class="btn btn-secondary" target="_blank">GitHub</a>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects">
        <div class="container">
            <h2 class="section-title">Projects</h2>
            <div class="projects-grid">
                {% for project in site.projects %}
                <div class="project-card">
                    <h3>{{ project.name }}</h3>
                    <p>{{ project.desc }}</p>
                    <div class="tags">
                        {% for tag in project.tags %}
                        <span class="tag">{{ tag }}</span>
                        {% endfor %}
                    </div>
                    <a href="{{ project.url }}" target="_blank" class="project-link">View Code →</a>
                </div>
                {% endfor %}
            </div>
            <div class="view-all-link">
                <a href="https://github.com/sorna-fast?tab=repositories" target="_blank" class="btn btn-primary">
                    More Projects →
                </a>
            </div>
        </div>
    </section>

    <!-- Certificates Section -->
    <section id="certificates" class="certificates">
        <div class="container">
            <h2 class="section-title">Certificates</h2>
            <div class="filter-buttons">
                <button class="filter-btn active" data-org="all">All Certificates</button>
                <button class="filter-btn" data-org="harvard">Harvard</button>
                <button class="filter-btn" data-org="linkedin">LinkedIn</button>
                <button class="filter-btn" data-org="tvto">TVTO</button>
            </div>
            <div class="certificates-slider-wrapper">
                <div class="certificates-track" id="certSlider"></div>
            </div>
            <div class="slider-controls">
                <button class="control-btn" id="pauseBtn"> Pause</button>
                <button class="control-btn" id="speedBtn">⚡ Speed Up</button>
            </div>
            <div class="view-all-link">
                <a href="https://github.com/sorna-fast/sorna-fast/tree/master/Certificate" target="_blank"
                    class="btn btn-primary">
                    View All Certificates on GitHub →
                </a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about">
        <div class="container">
            <h2 class="section-title">About Me</h2>
            <div class="about-content">
                <img src="./profile.png" alt="Masoud Ghasemi" class="profile-img">
                <div class="about-text">
                    <h3>Backend & AI Developer with</h3>
                    <p>Designing scalable APIs, database management systems, and AI models using Python, Django, and
                        TensorFlow. Proven track record in medical diagnostics and computer vision achieving 98%+
                        accuracy.</p>
                    <p>Currently pursuing Bachelor of Computer Engineering at Payam Noor University. Passionate about
                        building intelligent systems that solve real-world problems.</p>

                    <h3 style="margin-top: 30px;">Key Skills</h3>
                    <div class="skills-list">
                        {% assign skills = "Python,Django,Fast api,TensorFlow-Keras,Scikit-Learn,SQL,MongoDB,Pandas,NumPy,Git" | split:
                        "," %}
                        {% for skill in skills %}
                        <span class="skill-item">{{ skill }}</span>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <div class="container">
            <h2 class="section-title">Contact</h2>
            <div class="contact-info">
                <div class="contact-item">
                    <h3>Email</h3>
                    <a href="mailto:{{ site.email }}">{{ site.email }}</a>
                </div>
                <div class="contact-item">
                    <h3>Phone</h3>
                    <a href="tel:{{ site.phone }}">{{ site.phone }}</a>
                </div>
                <div class="contact-item">
                    <h3>LinkedIn</h3>
                    <a href="https://linkedin.com/in/{{ site.linkedin }}" target="_blank">
                        linkedin.com/in/{{ site.linkedin }}
                    </a>
                </div>
                <div class="contact-item">
                    <h3>Telegram</h3>
                    <a href="https://t.me/Masoud_Ghasemi_sorna_fast" target="_blank">
                        @Masoud_Ghasemi_sorna_fast
                    </a>
                </div>
            </div>
            <div class="view-all-link">
                <a href="https://github.com/sorna-fast" target="_blank" class="btn btn-primary">
                    View All Projects on GitHub
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2025 Masoud Ghasemi. Built with GitHub Pages</p>
        </div>
    </footer>

    <!-- JavaScript - نسخه نهایی -->
    <script>
    // اسلایدر و فیلتر گواهینامه‌ها - نسخه نهایی (Speed Bug Fixed)
    class CertificateSlider {
        constructor() {
            this.slider = document.getElementById('certSlider');
            this.isPaused = false;
            this.speed = 90; // سرعت پایه
            this.allCertificates = [];
            this.filteredCertificates = [];
            this.init();
        }

        async init() {
            await this.loadCertificates();
            this.setupFilters();
            this.setupControls();
            this.render();
        }

        async loadCertificates() {
            const mainApi = 'https://api.github.com/repos/sorna-fast/sorna-fast/contents/Certificate';
            try {
                const response = await fetch(mainApi);
                const folders = await response.json();
                const allCerts = [];

                for (const folder of folders) {
                    if (folder.type === 'dir') {
                        const folderApi = `https://api.github.com/repos/sorna-fast/sorna-fast/contents/${folder.path}`;
                        try {
                            const folderResponse = await fetch(folderApi);
                            const files = await folderResponse.json();
                            const certs = files
                                .filter(file => file.name.match(/\.(jpg|jpeg|png|gif|pdf)$/i))
                                .map(file => ({
                                    name: file.name.replace(/\.[^/.]+$/, ""),
                                    url: file.html_url,
                                    downloadUrl: file.download_url,
                                    type: file.name.endsWith('.pdf') ? 'pdf' : 'image',
                                    org: this.normalizeOrgName(folder.name),
                                    fullPath: file.path
                                }));
                            allCerts.push(...certs);
                        } catch (error) {
                            console.warn(`Failed to load folder: ${folder.name}`);
                        }
                    }
                }
                this.allCertificates = allCerts;
                this.filteredCertificates = [...allCerts];
            } catch (error) {
                this.slider.innerHTML = '<p style="color: var(--accent);">Error loading certificates</p>';
            }
        }

        normalizeOrgName(folderName) {
            const nameMap = {
                'Iran-Technical-and-Vocational-Training-Organization-(TVTO)': 'TVTO',
                'LINKEDIN-LEARNING': 'LinkedIn',
                'MSRT-of-Iran': 'MSRT',
                'CS50': 'Harvard',
                'IRAN-DIGITAL': 'Iran Digital',
                'Urbino-Carlo': 'Urbino'
            };
            return nameMap[folderName] || folderName.replace(/[-_]/g, ' ');
        }

        setupFilters() {
            const uniqueOrgs = [...new Set(this.allCertificates.map(cert => cert.org))];
            const filterContainer = document.querySelector('.filter-buttons');
            filterContainer.innerHTML = '';

            const allBtn = document.createElement('button');
            allBtn.className = 'filter-btn active';
            allBtn.dataset.org = 'all';
            allBtn.textContent = 'All Certificates';
            filterContainer.appendChild(allBtn);

            uniqueOrgs.forEach(org => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn';
                btn.dataset.org = org.toLowerCase();
                btn.textContent = org;
                filterContainer.appendChild(btn);
            });

            filterContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('filter-btn')) {
                    filterContainer.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    this.filter(e.target.dataset.org);
                }
            });
        }

        setupControls() {
            const pauseBtn = document.getElementById('pauseBtn');
            const speedBtn = document.getElementById('speedBtn');

            if (pauseBtn) {
                pauseBtn.addEventListener('click', () => {
                    this.isPaused = !this.isPaused;
                    pauseBtn.textContent = this.isPaused ? ' Play' : ' Pause';
                    this.updateAnimation();
                });
            }

            if (speedBtn) {
                speedBtn.addEventListener('click', () => {
                    // تغییر سرعت و آپدیت فوری
                    this.speed = this.speed === 90 ? 35 : 90;
                    speedBtn.textContent = this.speed === 90 ? ' Slow Down' : '⚡ Speed Up';
                    this.updateAnimation(); // ✅ این خط سرعت رو اپدیت میکنه
                });
            }
        }

        filter(org) {
            if (org === 'all') {
                this.filteredCertificates = [...this.allCertificates];
            } else {
                this.filteredCertificates = this.allCertificates.filter(cert => cert.org.toLowerCase() === org);
            }
            this.render();
        }

        render() {
            if (this.filteredCertificates.length === 0) {
                this.slider.innerHTML = '<p style="color: var(--accent); text-align: center; width: 100%;">No certificates found</p>';
                return;
            }

            // محاسبه سرعت بر اساس تعداد (فقط در رندر اولیه)
            this.speed = Math.max(40, this.filteredCertificates.length * 4);

            const certificatesHTML = this.filteredCertificates.map(cert => {
                const previewHTML = cert.downloadUrl
                    ? `<img src="${cert.downloadUrl}" alt="${cert.name}" loading="lazy">`
                    : `<div style="display:flex;align-items:center;justify-content:center;height:100%;flex-direction:column;">
                     <span style="font-size:1.5rem;color:var(--accent);margin-bottom:10px;">DOCUMENT</span>
                     <span style="font-size:0.8rem;color:var(--text);">PDF FILE</span>
                   </div>`;

                return `
                <div class="certificate-card" onclick="window.open('${cert.url}', '_blank')">
                    <div class="cert-preview">
                        ${previewHTML}
                    </div>
                    <span class="org-tag">${cert.org.toUpperCase()}</span>
                    <h4>${cert.name}</h4>
                    <span class="cert-type">${cert.type.toUpperCase()}</span>
                </div>
            `;
            }).join('');

            // تکرار برای افکت بی‌نهایت
            this.slider.innerHTML = certificatesHTML + certificatesHTML;
            this.updateAnimation();
        }

        updateAnimation() {
            // ⭐ فقط انیمیشن رو آپدیت میکنه، سرعت رو دوباره محاسبه نمیکنه
            this.slider.style.animation = `slideRTL ${this.speed}s linear infinite`;
            this.slider.style.animationPlayState = this.isPaused ? 'paused' : 'running';
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        console.log("✅ Certificate Slider initializing...");
        new CertificateSlider();
    });
    </script>

</body>

</html>